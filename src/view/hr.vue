<style lang="less">
  .main-head .head_content_3{
    display: none;
  }
  .main-head .head_content_4{
    display: none;
  }
  .main-head .head_content_2{
    display: none;
  }
  .main-head .head_content_11 {
    float: left;
    margin-left: 20px;
    width: 30px;
    height: 24px;
    padding-top: 16px;
  }
  .hr{
     p{margin:0}
    .nav{
      width: 50%;
      height: 30px;
      margin-left: 50%;
    }
    .title-button1{
      float: right;
      margin-top: 8px;
      margin-bottom: 2px;
      margin-right: 5px;
      width: 117px;
      height: 20px;
      line-height: 20px;
      vertical-align: middle;
      text-align: center;
      background-color: white;
      border-radius: 3px;
    }
    .title-button2{
      float: left;
      margin-top: 8px;
      margin-bottom: 2px;
      margin-right: 5px;
      width: 60px;
      height: 20px;
      line-height: 20px;
      vertical-align: middle;
      text-align: center;
      background-color: white;
      border-radius: 3px;
    }
    .title-button3{
      float: right;
      margin-top: 8px;
      margin-bottom: 2px;
      margin-right: 5px;
      width: 70px;
      height: 20px;
      line-height: 20px;
      vertical-align: middle;
      text-align: center;
      background-color: white;
      border-radius: 3px;
    }
    .nav-text-1{
      float: left;
      color: #000000;
      margin-right: 5px;
      font-size: 15px;
      margin-top: 8px;
    }
    .contents{
      width: 100%;
      height: 670px;
      .title1{
        width: 100px;
        height: 33px;
        background-color: white;
        border-radius: 3px;
        margin: 2px 0 0 2px;
        line-height: 35px;
        vertical-align: middle;
        text-align: center;
        font-size: 16px;
      }
      .left1{
        position: relative;
        float: left;
        height: 670px;
        width: calc(50% - 20px);
        margin-left: 10px;
        background: url("../assets/image/border_1.png");
        background-size: 100% 100%;
        .left{
          float: left;
          width: 60%;
          height: 670px;
          .content{
            width: 100%;
            height: 211px;
            .content1{
              float: left;
              padding-top: 20px;
              width: 50%;
              height: 211px;
              .content1-title{
                width: 70px;
                height: 20px;
                margin: 0px auto 1px;
                background-color: white;
                border-radius: 3px;
                line-height: 20px;
                vertical-align: middle;
                text-align: center;
              }
              .content1-left{
                float: left;
                width: 90px;
                height: 130px;
              }
              .content1-right{
                float: right;
                width: calc(100% - 90px);
                height: 170px;
                padding-top: 20px;
              }
            }
          }
        }
        .right{
          float: right;
          width: 40%;
          height: 670px;
          .title{
            height: 35px;
            width: 100%;
            padding-left: 10px;
            padding-top: 5px;
          }
          .chart1{
            width: 100%;
            height: 355px;
          }
          .chart2{
            width: 100%;
            height: 245px;
          }
        }
      }

      .right1{
        position: relative;
        float: right;
        width: calc(50% - 10px);
        margin-right: 10px;
        height: 310px;
        background: url("../assets/image/border_1.png");
        background-size: 100% 100%;
        .left-1{
          float: left;
          width: 55%;
          height: 310px;
          .title{
            width: 100%;
            height: 30px;
            padding-top: 5px;
            padding-left: 10px;
          }
          .elements1{
            float: left;
            width: 50%;
            height: 245px;
            .chart{
              width: 100%;
              height: 200px;
            }
            .footer{
              width: 100%;
              height: 45px;
              padding-left: 40px;
              font-size: 12px;
              color: #ffffff;
            }
            .title-1{
              width: 70px;
              height: 20px;
              margin: 70px 0 15px;
              background-color: #ffffff;
              border-radius: 3px;
              font-size: 14px;
              text-align: center;
              line-height: 20px;
              vertical-align: middle;
            }
          }
        }
        .right-1{
          float: left;
          width: 45%;
          height: 310px;
          .right-1-chart{
            width: 100%;
            height: 280px;
          }
          .right-1-title{
            overflow: hidden;
            width: 100%;
            height: 30px;
            padding:5px 0 0 10px;
            .p2{
              float: left;
              width: 110px;
            }
          }
        }
      }
      .right3{
        position: relative;
        float: right;
        width: calc(50% - 10px);
        margin-right: 10px;
        height: 50px;
      }
      .right2{
        position: relative;
        float: right;
        width: calc(50% - 10px);
        height: 310px;
        margin-right: 10px;
        background: url("../assets/image/border_1.png");
        background-size: 100% 100%;
        .right2-content{
          float: left;
          width: 50%;
          height: 310px;
        }
        .right-1-title{
          overflow: hidden;
          width: 100%;
          height: 30px;
          padding:5px 0 0 10px;
          .p2{
            float: left;
            color: #ffffff;
            width: 110px;
          }
        }
        .right2-title1{
          width: 100%;
          height: 30px;
          text-align: center;
          margin-top: 20px;
        }
        .right2-chart1{
          width: 100%;
          height: 260px;
        }
      }
      .elements{
        overflow:hidden;
        width: 100%;
        height: 20px;
      .element1{
        float: left;
        margin-left: 2px;
        margin-right: 5px;
        height: 15px;
        width: 15px;
      }
      p {
        float: left;
        font-size: 12px;
        color: #ffffff;
      }
      }
    }

    .radio2{
      position: relative;
      float: right;
      margin: 5px 0 0;
      width: 60px;
      height: 20px;
    }
    .radio2 p{
      float: left;
      margin-top: -3px;
      margin-left: 3px;
      margin-right: 10px;
      width: 28px;
      line-height: 20px;
      font-size: 14px;
      color: #ffffff;
    }
    .radio_behind_1{
      float: left;
      padding-top: 2px;
      padding-left: 2px;
      height: 14px;
      width: 14px;
      background-color: #ffffff;
      border-radius: 50%;
    }
    .radio_front_1{
      position: relative;
      height: 10px;
      width: 10px;
      background-color: #2488e8;
      border-radius: 50%;
    }
    .radio_front_2{
      position: relative;
      height: 10px;
      width: 10px;
      background-color: #0049a7;
      border-radius: 50%;
    }
    .bg-arrow{
      background: url("../assets/image/arrow1.png");
      background-size: 100% 100%;
    }
    .head_content_5{
      float: right;
      padding-top: 25px;
      width: 275px;
      height: 30px;
    }
    button{
      background: url("../assets/image/button.png") no-repeat;
      background-size: 100% 100%;
      border:none;
      height: 20px;
      width: 65px;
    }
    .title2{
      float: left;
      width: 100px;
      height: 33px;
      background-color: white;
      border-radius: 3px;
      margin: 17px 0 0 2px;
      line-height: 35px;
      vertical-align: middle;
      text-align: center;
      font-size: 16px;
    }
    .border-right{
      border-right: 1px solid #2342ae;
    }
    .border-buttom{
      border-bottom: 1px solid #ffffff;
    }
    .table-list table tr td:nth-child(1){
      width:auto;
    }
  }
</style>
<template>
  <div class="con">
    <head-title :headTip="headTip">
      <head-select slot="headSelect"></head-select>
      <div class="head_content_11">时长单位:小时(h)</div>
    </head-title>
    <div class="hr main">
      <div class="nav clearfix">
        <div class="title-button2">
          <p>开始日期</p>
        </div>
        <p class="nav-text-1">2018年5月23日</p>
        <div class="title-button2">
          <p>结束日期</p>
        </div>
        <p class="nav-text-1">2018年6月22日</p>
        <div class="title-button3">
          <p>获取数据</p>
        </div>
        <div class="title-button1">
          <p>区间员工变动报表</p>
        </div>
      </div>
      <div class="contents">
        <div class="left1">
          <div class="left">
            <div class="title1">新增:93</div>
            <div class="content border-buttom">
              <div class="content1">
                <div class="content1-title">
                  <p>员工性质</p>
                </div>
                <div class="content1-left" ref="chart_1">

                </div>
                <div class="content1-right">
                  <div class="elements">
                    <div class="element1 color_8"></div>
                    <p>在编:{{chart_num_1_1}}</p>
                  </div>
                  <div class="elements">
                    <div class="element1 color_2"></div>
                    <p>派遣:{{chart_num_1_2}}</p>
                  </div>
                  <div class="elements">
                    <div class="element1 color_5"></div>
                    <p>聘用人员:{{chart_num_1_3}}</p>
                  </div>
                  <div class="elements">
                    <div class="element1 color_3"></div>
                    <p>其他:{{chart_num_1_4}}</p>
                  </div>
                  <div class="elements">
                    <div class="element1 color_4"></div>
                    <p>聘用人员:{{chart_num_1_5}}</p>
                  </div>
                </div>
              </div>
              <div class="content1">
                <div class="content1-title">
                  <p>科室类别</p>
                </div>
                <div class="content1-left" ref="chart_2">

                </div>
                <div class="content1-right">
                  <div class="elements">
                    <div class="elements">
                      <div class="element1 color_4"></div>
                      <p>科研:{{chart_num_2_1}}</p>
                    </div>
                    <div class="elements">
                      <div class="element1 color_5"></div>
                      <p>临床:{{chart_num_2_2}}</p>
                    </div>
                    <div class="element1 color_8"></div>
                    <p>护理:{{chart_num_2_3}}</p>
                  </div>

                  <div class="elements">
                    <div class="element1 color_3"></div>
                    <p>其他:{{chart_num_2_4}}</p>
                  </div>

                </div>
              </div>
            </div>
            <div class="content border-buttom">
              <div class="content1">
                <div class="content1-title">
                  <p>学历分布</p>
                </div>
                <div class="content1-left" ref="chart_3">

                </div>
                <div class="content1-right">
                  <div class="elements">
                    <div class="element1 color_5"></div>
                    <p>博士毕业:{{chart_num_3_1}}</p>
                  </div>
                  <div class="elements">
                    <div class="element1 color_3"></div>
                    <p>硕士毕业:{{chart_num_3_2}}</p>
                  </div>
                  <div class="elements">
                    <div class="element1 color_8"></div>
                    <p>大学本科:{{chart_num_3_3}}</p>
                  </div>
                  <div class="elements">
                    <div class="element1 color_2"></div>
                    <p>专科毕业:{{chart_num_3_4}}</p>
                  </div>
                  <div class="elements">
                    <div class="element1 color_4"></div>
                    <p>中专及以下:{{chart_num_3_5}}</p>
                  </div>
                </div>
              </div>
              <div class="content1">
                <div class="content1-title">
                  <p>学位分布</p>
                </div>
                <div class="content1-left" ref="chart_4">

                </div>
                <div class="content1-right">
                  <div class="elements">
                    <div class="element1 color_8"></div>
                    <p>博士:{{chart_num_4_1}}</p>
                  </div>
                  <div class="elements">
                    <div class="element1 color_4"></div>
                    <p>硕士:{{chart_num_4_2}}</p>
                  </div>
                  <div class="elements">
                    <div class="element1 color_3"></div>
                    <p>学士:{{chart_num_4_3}}</p>
                  </div>
                  <div class="elements">
                    <div class="element1 color_5"></div>
                    <p>其他:{{chart_num_4_4}}</p>
                  </div>
                </div>
              </div>
            </div>
            <div class="content">
              <div class="content1">
                <div class="content1-title">
                  <p>职称分布</p>
                </div>
                <div class="content1-left" ref="chart_5">

                </div>
                <div class="content1-right">
                  <div class="elements">
                    <div class="element1 color_2"></div>
                    <p>正高:{{chart_num_5_1}}</p>
                  </div>
                  <div class="elements">
                    <div class="element1 color_4"></div>
                    <p>中级:{{chart_num_5_2}}</p>
                  </div>
                  <div class="elements">
                    <div class="element1 color_3"></div>
                    <p>初级:{{chart_num_5_3}}</p>
                  </div>
                  <div class="elements">
                    <div class="element1 color_8"></div>
                    <p>其他:{{chart_num_5_4}}</p>
                  </div>
                </div>
              </div>
              <div class="content1">
                <div class="content1-title">
                  <p>教学职称</p>
                </div>
                <div class="content1-left" ref="chart_6">

                </div>
                <div class="content1-right">
                  <div class="elements">
                    <div class="element1 color_4"></div>
                    <p>其他:{{chart_num_6_1}}</p>
                  </div>
                </div>
              </div>
            </div>

          </div>
          <div class="right">
            <div class="title">
              <p class="font_style_1">岗位</p>
            </div>
            <div class="chart1">
              <table-list :tableData="tableData1"></table-list>
            </div>
            <div class="title">
              <p class="font_style_1">详细职称</p>
            </div>
            <div class="chart2">
              <table-list :tableData="tableData2"></table-list>
            </div>
          </div>
        </div>
        <div class="right1">
          <div class="left-1 border-right">
            <div class="title1">离职:13</div>
            <div class="title font_style_1">
              <p>离职类型分布</p>
            </div>
            <div class="elements1">
              <div class="chart" ref="chart_7"></div>
              <div class="footer">
                <p>已选所有离职类型</p>
              </div>
            </div>
            <div class="elements1 bg-arrow">
              <div class="title-1">所有类型</div>
              <div class="elements">
                <div class="element1 color_4"></div>
                <p>主动离职:{{chart_num_7_1}}</p>
              </div>
              <div class="elements">
                <div class="element1 color_3"></div>
                <p>(离)退休:{{chart_num_7_2}}</p>
              </div>
            </div>
          </div>
          <div class="right-1">
            <div class="right-1-title">
              <p class="p2 font_style_1">科室离职情况</p>
              <div class="radio2">
                <div class="radio_behind_1">
                  <div class="radio_front_2"></div>
                </div>
                <p>职称</p>
              </div>
              <div class="radio2">
                <div class="radio_behind_1">
                  <div class="radio_front_2"></div>
                </div>
                <p>岗位</p>
              </div>
              <div class="radio2">
                <div class="radio_behind_1">
                  <div class="radio_front_1"></div>
                </div>
                <p>科室</p>
              </div>
            </div>
            <div class="right-1-chart">
              <table-list :tableData="tableData3"></table-list>
            </div>
          </div>
        </div>
        <div class="right3">
          <div class="title2">(离)退休</div>
          <div class="head_content_5 clearfix">
            <select>
              <option value ="year">2018</option>
            </select>
            <select>
              <option value ="month">6</option>
            </select>
            至
            <select>
              <option value ="year">2018</option>
            </select>
            <select>
              <option value ="month">6</option>
            </select>
            <button>获取数据</button>
          </div>
        </div>
        <div class="right2">
          <div class="right2-content border-right">
            <div class="right-1-title">
              <p class="p2">科室退休分布</p>
              <div class="radio2">
                <div class="radio_behind_1">
                  <div class="radio_front_2"></div>
                </div>
                <p>职称</p>
              </div>
              <div class="radio2">
                <div class="radio_behind_1">
                  <div class="radio_front_2"></div>
                </div>
                <p>岗位</p>
              </div>
              <div class="radio2">
                <div class="radio_behind_1">
                  <div class="radio_front_1"></div>
                </div>
                <p>科室</p>
              </div>
            </div>
            <div class="right-1-chart">
              <table-list :tableData="tableData4"></table-list>
            </div>
          </div>
          <div class="right2-content">
            <div class="right2-title1">
              <p class="font_style_1">2018年年退休员工年度分布情况</p>
              <div class="right2-chart1" ref="chart_8"></div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>

</template>
<script>
  import eCharts from 'echarts'
  import {random, clone, router} from '@/tool/tool'

  import headTitle from '@/components/head'
  import headSelect from '@/components/head-select'
  import tableList from '@/components/table-list'
  let tableData1=[
    ['岗位','新增人数','比例'],
    ['全院','93','100%'],
    ['卫技人员','85','91%'],
    ['医生','3','3%'],
    ['医技','76','82%'],
    ['护理','3','3%'],
    ['科研','3','3%'],
    ['行政管理人员','1','3%'],
    ['行政卫技','-','82%'],
    ['行政管理','7','3%']
  ];
  let tableData2=[
    ['岗位','新增人数','比例'],
    ['讲师','1','1%'],
    ['主任医师','1','1%'],
    ['主治医师','1','1%'],
    ['医师','1','1%'],
    ['护士','1','1%'],
    ['医生','1','1%']
  ];
  let tableData3=[
    ['科室','离职人数','离职率'],
    ['心力衰竭','1','100%'],
    ['急性ST段抬高心肌梗塞','2','0.03%'],
    ['慢性心绞痛介入治疗','1','0.03%'],
    ['病态心房结综合征','1','0.06%'],
    ['高血压','1','0.03%'],
    ['心房颤动介入治疗','1','0.03%'],
    ['慢性心绞痛介入治疗','1','0.03%']
  ];
  let tableData4=[
    ['科室','退休人数'],
    ['全院','27'],
    ['延退人员','21'],
    ['急诊外科本部','1'],
    ['本部门诊护理','1'],
    ['医务部(外联办公室)','1'],
    ['医务部(外联办公室)','1'],
  ];
  let pieOption = {
//    title : {
//      text: '某站点用户访问来源',
//      subtext: '纯属虚构',
//      x:'center'
//    },
//    tooltip : {
//      trigger: 'item',
//      formatter: "{a} <br/>{b} : {c} ({d}%)"
//    },
    legend: {
      show:false,
      orient: 'vertical',
      left: 'left',
      data: ['A（优）','B（良）','C（中）','D（差）']
    },
    series : [
      {
        name: '',
        type: 'pie',
        radius : 40,
        center: ['50%', '50%'],
        itemStyle: {
          emphasis: {
            shadowBlur: 10,
            shadowOffsetX: 0,
            shadowColor: 'rgba(0, 0, 0, 0.5)'
          }
        },
        label:{
          show:false,
          color:'red'
        }
      }
    ]
  };
  let option_1=clone(pieOption);
  let option_2=clone(pieOption);
  let option_3=clone(pieOption);
  let option_4=clone(pieOption);
  let option_5=clone(pieOption);
  let option_6=clone(pieOption);
  let option_7=clone(pieOption);
  option_7.series[0].radius=60;
  let option_8 = {
    tooltip : {
      trigger: 'axis',
      axisPointer : {            // 坐标轴指示器，坐标轴触发有效
        type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
      }
    },
    grid: {
      left: '3%',
      right: '4%',
      bottom: '3%',
      containLabel: true
    },
    xAxis : [
      {
        splitLine:{
          show:false
        },
        type : 'category',
        data : ['2018'],
        axisTick: {
          alignWithLabel: true
        },
        axisLine:{
          lineStyle:{
            color:'#fff',
            width:1,//  坐标轴宽度 这里是为了突出显示加上的
          }
        }
      }
    ],
    yAxis : [
      {
        type : 'value',
        name:'单位：人次',
        splitLine:{  // 坐标轴平行的直线
          show:true
        },
        min: 0,
        max: 40,
        axisLine:{
          lineStyle:{
            color:'#fff',
            width:1,//  坐标轴宽度 这里是为了突出显示加上的
          }
        }

      }
    ],
    series : [
      {
        type:'bar',
        barWidth: '50',
        color:'#046cc2',
        itemStyle:{
          normal:{
            label:{
              show:true,
              position:'top',
              textStyle:{
                color:'#fff'
              }
            }
          }

        }
      }
    ]
  };

  export default{
    data () {
      return {
        headTip:'人力资源>>人员变动',
        tableData1,
        tableData2,
        tableData3,
        tableData4,
        chart_num_1_1:0,
        chart_num_1_2:0,
        chart_num_1_3:0,
        chart_num_1_4:0,
        chart_num_1_5:0,
        chart_num_2_1:0,
        chart_num_2_2:0,
        chart_num_2_3:0,
        chart_num_2_4:0,
        chart_num_3_1:0,
        chart_num_3_2:0,
        chart_num_3_3:0,
        chart_num_3_4:0,
        chart_num_3_5:0,
        chart_num_4_1:0,
        chart_num_4_2:0,
        chart_num_4_3:0,
        chart_num_4_4:0,
        chart_num_5_1:0,
        chart_num_5_2:0,
        chart_num_5_3:0,
        chart_num_5_4:0,
        chart_num_6_1:0,
        chart_num_7_1:0,
        chart_num_7_2:0,
        chart_num_8_1:0,
      }
    },
    components:{
      headTitle,
      tableList,
      headSelect
    },
    activated () {
      router('/wastage',this);
    },
    mounted () {
        let chart_1=eCharts.init(this.$refs.chart_1);
        let chart_2=eCharts.init(this.$refs.chart_2);
        let chart_3=eCharts.init(this.$refs.chart_3);
        let chart_4=eCharts.init(this.$refs.chart_4);
        let chart_5=eCharts.init(this.$refs.chart_5);
        let chart_6=eCharts.init(this.$refs.chart_6);
        let chart_7=eCharts.init(this.$refs.chart_7);
        let chart_8=eCharts.init(this.$refs.chart_8);

        setInterval(()=>{
          this.chart_num_1_1=random(1,4);
          this.chart_num_1_2=random(8,13);
          this.chart_num_1_3=random(1,4);
          this.chart_num_1_4=random(1,4);
          this.chart_num_1_5=random(50,80);
          this.chart_num_2_1=random(8,13);
          this.chart_num_2_2=random(1,4);
          this.chart_num_2_3=random(1,4);
          this.chart_num_2_4=random(50,80);
          this.chart_num_3_1=random(1,5);
          this.chart_num_3_2=random(1,4);
          this.chart_num_3_3=random(20,30);
          this.chart_num_3_4=random(30,50);
          this.chart_num_3_5=random(10,20);
          this.chart_num_4_1=random(8,13);
          this.chart_num_4_2=random(1,4);
          this.chart_num_4_3=random(1,4);
          this.chart_num_4_4=random(60,80);
          this.chart_num_5_1=random(1,4);
          this.chart_num_5_2=random(1,4);
          this.chart_num_5_3=random(1,6);
          this.chart_num_5_4=random(70,90);
          this.chart_num_6_1=random(80,100);
          this.chart_num_7_1=random(5,15);
          this.chart_num_7_2=random(1,5);
          this.chart_num_8_1=random(30,50);
          option_1.color=['#9368dc','#edde05','#eb615f','#8be87e','#1286ed'];
          option_1.series[0].data=[
            {value:this.chart_num_1_1},
            {value:this.chart_num_1_2},
            {value:this.chart_num_1_3},
            {value:this.chart_num_1_4},
            {value:this.chart_num_1_5}
          ];
          option_2.color=['#1286ed','#8be87e'];
          option_2.series[0].data=[
            {value:this.chart_num_2_1},
            {value:this.chart_num_2_2}
          ];
          option_3.color=['#eb615f','#8be87e','#9368dc','#edde05','#067bdb'];
          option_3.series[0].data=[
            {value:this.chart_num_3_1},
            {value:this.chart_num_3_2},
            {value:this.chart_num_3_3},
            {value:this.chart_num_3_4},
            {value:this.chart_num_3_5}
          ];
          option_4.color=['#9368dc','#067bdb','#8be87e','#eb615f'];
          option_4.series[0].data=[
            {value:this.chart_num_4_1},
            {value:this.chart_num_4_2},
            {value:this.chart_num_4_3},
            {value:this.chart_num_4_4},
          ];
          option_5.color=['#edde05','#1286ed','#8be87e','#9368dc'];
          option_5.series[0].data=[
            {value:this.chart_num_5_1},
            {value:this.chart_num_5_2},
            {value:this.chart_num_5_3},
            {value:this.chart_num_5_4},
          ];
          option_6.color=['#2a71ff'];
          option_6.series[0].data=[
            {value:this.chart_num_6_1}
          ];
          option_7.color=['#1286ed','#8be87e'];
          option_7.series[0].data=[
            {value:this.chart_num_7_1},
            {value:this.chart_num_7_2}
          ];
          option_8.series[0].data=[random(25,38)];
          chart_1.setOption(option_1,true);
          chart_2.setOption(option_2,true);
          chart_3.setOption(option_3,true);
          chart_4.setOption(option_4,true);
          chart_5.setOption(option_5,true);
          chart_6.setOption(option_6,true);
          chart_7.setOption(option_7,true);
          chart_8.setOption(option_8,true);

        },2000)
    }
  }
</script>
